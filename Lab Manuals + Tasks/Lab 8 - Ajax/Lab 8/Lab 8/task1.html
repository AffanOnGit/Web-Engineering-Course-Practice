<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 1 - Basic Text Loading</title>

    <style>
        #loading {
            display: none;
            color: blue;
        }
    </style>
</head>
<body>
    <h1>Simple Content Loading</h1>
    
    <!-- Button and Div to display content -->
    <button id="loadButton">Load Content Using Ajax</button>
    <button id="loadButton2">Load Content Using jQuery</button>
    
    <div id="loading">
        Loading...
    </div>
    <div id="content">

    </div>

    <script>
    // Method 1: Using XMLHttpRequest
    document.getElementById('loadButton').addEventListener('click', function() {

    document.getElementById('loading').style.display = 'block';
    document.getElementById('content').innerHTML = '<><><><><>';

    var timer = setTimeout(function() {
        document.getElementById('loading').style.display = 'block';
        document.getElementById('content').innerHTML = 'Loading taking too long. Please try again.';
    }, 8000);
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'data.txt', true);


    xhr.onload = function() {
        clearTimeout(timer);
        if (xhr.status === 200) {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('content').innerHTML = xhr.responseText;
        } else {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('content').innerHTML = 'Error loading content.';
        }
    };

    xhr.onerror = function() {
        clearTimeout(timer);
        document.getElementById('loading').style.display = 'none';
        document.getElementById('content').innerHTML = 'Request failed.';
    };

    xhr.send();
    });

    
    // => file content not being displayed. 
    // Method 2: Using jQuery $.load() 
        // You can use another button for this method or the same button
        document.getElementById('loadButton2').addEventListener('click', function() {
            $('#loading').show();
            $('#content').load('data.txt', function(response, status, xhr) {
                if (status == "error") {
                    $('#content').html("Error loading content.");
                }
                $('#loading').hide();
            });
        });
    </script>
</body>
</html>